<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{PAGE_TITLE}} - GymTracker</title>
    
    <!-- Base CSS -->
    <link rel="stylesheet" href="css/menu-component.css">
    <link rel="stylesheet" href="css/shared.css">
    
    <!-- Page-specific CSS placeholder -->
    {{PAGE_CSS}}
</head>
<body>
    <!-- Header will be loaded dynamically -->
    <div id="headerContainer"></div>
    
    <!-- Main content area -->
    <main id="mainContent" class="main-content">
        {{PAGE_CONTENT}}
    </main>
    
    <!-- Footer will be loaded dynamically -->
    <div id="footerContainer"></div>
    
    <!-- Core JavaScript -->
    <script src="js/core/template-loader.js"></script>
    <script src="js/core/menu-component.js"></script>
    <script src="js/core/auth.js"></script>
    <script src="js/core/api.js"></script>
    <script src="js/core/utils.js"></script>
    
    <!-- Page-specific JavaScript placeholder -->
    {{PAGE_JS}}
    
    <!-- Template initialization -->
    <script>
        // Initialize template system
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                // Load header and footer components
                await TemplateLoader.loadComponent('headerContainer', 'components/header.html');
                await TemplateLoader.loadComponent('footerContainer', 'components/footer.html');
                
                // Initialize authentication state
                await Auth.init();
                
                // Initialize menu system
                Menu.init();
                
                // Page-specific initialization
                if (typeof initPage === 'function') {
                    await initPage();
                }
            } catch (error) {
                console.error('Template initialization error:', error);
                Utils.showError('Errore nel caricamento della pagina');
            }
        });
    </script>
</body>
</html>